<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Widget</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
   <nav class="menu">
        <h1><a id="nav_info">Links:</a></h1>
        <ul>
            <li class="menItem"><a href="index.html">Home Page</a></li>
            <li class="menItem"><a href="dogs.html">Dogs</a></li>
            <li class="menItem"><a href="widget.html">Widget</a></li>
            <li class="menItem"><a href="input_element_challenge.html">Inputs</a></li>

        </ul>
    </nav>

<style>
    .centeredClass{
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .scrollingShop{
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 12px;
        flex-direction: column;
        height: 100px;
        overflow-y: auto;
    }
</style>

<div id="cookieScore" class="centeredClass">Cookies: </div> 
<div id="cookieBtnDiv" class="centeredClass">
    <button>
        <img id="cookieBtn"src="images/mc_cookie.png" alt="minecraft cookie" style="width: 750px; height: auto;">
    </button>
</div>
<div id="errorMessage" class="centeredClass"></div>

<div id="shopTitle" class="centeredClass">Shop (scrolling): </div>
<div class="scrollingShop">
    <button id="grandmaItem" class="shopItem" style="width: 300px; height: auto">Grandma: 100 Cookies</button>
    <button id="factoryItem" class="shopItem" style="width: 300px; height: auto">Factory: 1500 Cookies</button>
    <button id="plantationItem" class="shopItem" style="width: 300px; height: auto">Plantation: 5000 Cookies</button>
</div>

<input id="nameInput" class="centeredClass" type="text" placeholder="Enter your name for a secret!">
<button id="secretBtn" class="centeredClass">Click for the secret!</button>
<div id="secretMessage" class="centeredClass"></div>

<script>
const fullCookieBtn = document.getElementById("cookieBtnDiv"); // if I want to update whole clicker
const cookieBtn = document.getElementById("cookieBtn"); // scoreIncrement
const scoreOutput = document.getElementById("cookieScore");
let score = 0;

const errorMessage = document.getElementById("errorMessage");
let clickPower = 0;


// cookie incrementer

cookieBtn.addEventListener("click", cookieScoreIncrement);

function cookieScoreIncrement(event){
    score += 1;
    score += clickPower;
    console.log(score)
    scoreOutput.textContent = "Cookies: " + score;
}

// cookie incrementer end

// cookiemation

cookieBtn.addEventListener("mouseenter", enterHoverCookie);
let cookieBtnSize = 0;
let cookieBtnHovered = false;

function enterHoverCookie(){
    cookieBtnHovered = true;
    console.log('Hovered!')
    if (cookieBtnHovered == true) {
        cookieBtnSize = 1.25;
        cookieBtn.style.scale = cookieBtnSize;
    }
}

cookieBtn.addEventListener("mouseout", exitHoverCookie);

function exitHoverCookie(){
    console.log('Not Hovered!')
    cookieBtnHovered = false;
    cookieBtnSize = 1;
    cookieBtn.style.scale = cookieBtnSize;
}

//cookiemation end

// shopppppp:

const grandmaItem = document.getElementById("grandmaItem"); // grandmaItem Shop

grandmaItem.addEventListener("click", grandmaCP);

function grandmaCP(){
    if(score >= 100) {
        score -= 100;
        scoreOutput.textContent = "Cookies: " + score;
        clickPower += 1;
    }
    else {
        let _more = 100 - score;
        errorMessage.textContent = "You don't have enough cookies, you need " + _more + " more."
        setTimeout(() => {
            errorMessage.textContent = ""
        }, 3000);
    }
}

const factoryItem = document.getElementById("factoryItem"); // factoryItem Shop

factoryItem.addEventListener("click", factoryCP);

function factoryCP(){
    if(score >= 1500) {
        score -= 1500;
        scoreOutput.textContent = "Cookies: " + score;
        clickPower += 25;
    }
    else {
        let _more = 1500 - score;
        errorMessage.textContent = "You don't have enough cookies, you need " + _more + " more."
        setTimeout(() => {
            errorMessage.textContent = ""
        }, 3000);
    }
}

const plantationItem = document.getElementById("plantationItem"); // plantationItem Shop

plantationItem.addEventListener("click", plantationCP);

function plantationCP(){
    if(score >= 5000) {
        score -= 5000;
        scoreOutput.textContent = "Cookies: " + score;
        clickPower += 50;
    }
    else {
        let _more = 5000 - score;
        errorMessage.textContent = "You don't have enough cookies, you need " + _more + " more."
        setTimeout(() => {
            errorMessage.textContent = ""
        }, 3000);
    }
}

// shopppp end

//secret

const nameInput = document.getElementById("nameInput");
const secretBtn = document.getElementById("secretBtn");
const secretMessage = document.getElementById("secretMessage");

secretBtn.addEventListener("click", secretNameMessage)

let functRun = false;

function secretNameMessage(){
        let name = nameInput.value;
        console.log(name)
        if(functRun == false && score >= 100){
            let name = nameInput.value;
            let message = 'Congrats ' + name + ' , you got your first hundred cookies!'
            secretMessage.textContent = message
            setTimeout(() => {
                secretMessage.textContent = ""
                }, 3000);
            console.log(message)
            functRun = true;
            console.log(functRun)
        }
        else if(functRun == true && score >= 100){
            let message = "This doesn't do anything anymore..."
            console.log(message)
            secretMessage.textContent = message
            setTimeout(() => {   
                secretMessage.textContent = ""
                }, 3000);
        }
}

// secret end

</script>


    
</body>
</html>